{% extends "base.html" %}
{% block content %}

<div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Jadwal Konselor</h2>
    <a href="{% url 'jadwal_add' %}" class="btn btn-primary">+ Tambah Jadwal</a>
</div>

<table class="table table-striped table-bordered">
    <thead class="table-dark">
        <tr>
            <th>Konselor</th>
            <th>Tanggal</th>
            <th>Jam</th>
            <th>Fokus Konsultasi</th>
            <th>Status</th>
            <th>Aksi</th>
        </tr>
    </thead>

    <tbody>
        {% for j in jadwal %}
        <tr>
            <td>{{ j.konselor.nama }}</td>
            <td>{{ j.tanggal }}</td>
            <td>{{ j.jam }}</td>
            <td>{{ j.fokus }}</td>
            <td>
                {% if j.is_booked %}
                <span class="badge bg-danger">Terbooking</span>
                {% else %}
                <span class="badge bg-success">Tersedia</span>
                {% endif %}
            </td>
            <td>
                {% if not j.is_booked %}
                <a href="{% url 'jadwal_edit' j.id %}" class="btn btn-warning btn-sm">Edit</a>
                <a href="{% url 'jadwal_delete' j.id %}" class="btn btn-danger btn-sm"
                   onclick="return confirm('Hapus jadwal ini?')">Hapus</a>
                {% else %}
                <span class="text-muted">Tidak bisa diubah</span>
                {% endif %}
            </td>
        </tr>
        {% empty %}
        <tr><td colspan="6" class="text-center">Belum ada jadwal</td></tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
